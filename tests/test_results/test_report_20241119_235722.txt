FDD Processors Test Report
==================================================

Tests Run: 3
Failures: 1
Errors: 3
Skipped: 0

Failures:
test_document_organizer (__main__.TestFDDProcessors.test_document_organizer): Traceback (most recent call last):
  File "C:\Projects\generative-ai\tests\test_fdd_processors.py", line 86, in test_document_organizer
    doc_id = organizer.process_document(str(self.test_file))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Projects\generative-ai\fdd_document_organizer.py", line 112, in process_document
    self._process_sections(doc_data, document_id)
  File "C:\Projects\generative-ai\fdd_document_organizer.py", line 150, in _process_sections
    cursor.execute("""
sqlite3.IntegrityError: UNIQUE constraint failed: sections.document_id, sections.item_number

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Projects\generative-ai\tests\test_fdd_processors.py", line 142, in test_document_organizer
    self.fail(f"Document organization failed: {str(e)}")
AssertionError: Document organization failed: UNIQUE constraint failed: sections.document_id, sections.item_number


Errors:
test_info_extractor (__main__.TestFDDProcessors.test_info_extractor): Traceback (most recent call last):
  File "C:\Projects\generative-ai\tests\test_fdd_processors.py", line 39, in setUp
    self.test_db.unlink()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\pathlib.py", line 1147, in unlink
    os.unlink(self)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'tests\\test_data\\test_fdd.db'

test_section_analyzer (__main__.TestFDDProcessors.test_section_analyzer): Traceback (most recent call last):
  File "C:\Projects\generative-ai\tests\test_fdd_processors.py", line 39, in setUp
    self.test_db.unlink()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\pathlib.py", line 1147, in unlink
    os.unlink(self)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'tests\\test_data\\test_fdd.db'

tearDownClass (__main__.TestFDDProcessors): Traceback (most recent call last):
  File "C:\Projects\generative-ai\tests\test_fdd_processors.py", line 191, in tearDownClass
    cls.test_db.unlink()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\pathlib.py", line 1147, in unlink
    os.unlink(self)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'tests\\test_data\\test_fdd.db'

